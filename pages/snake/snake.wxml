<view class="container">
  <view class="game-header">
    <view class="score-info">
      <text class="score-label">分数</text>
      <text class="score-value">{{score}}</text>
    </view>
    <view class="high-score-info" wx:if="{{highScore > 0}}">
      <text class="high-score-label">最高分</text>
      <text class="high-score-value">{{highScore}}</text>
    </view>
  </view>
  
  <view class="game-container">
    <canvas 
      class="game-canvas" 
      canvas-id="snakeCanvas"
      bindtouchstart="onTouchStart"
      bindtouchmove="onTouchMove"
      bindtouchend="onTouchEnd">
    </canvas>
    
    <view class="game-overlay" wx:if="{{gameState === 'ready' || gameState === 'gameOver' || gameState === 'win'}}">
      <view class="overlay-content">
        <view class="overlay-title">
          {{gameState === 'ready' ? '贪吃蛇游戏' : 
            gameState === 'win' ? '游戏通关!' : '游戏结束'}}
        </view>
        
        <view class="overlay-message">
          {{gameState === 'ready' ? '滑动手指控制蛇的移动方向' : 
            gameState === 'win' ? '恭喜你达到30分，游戏通关！' : 
            '你的分数: ' + score}}
        </view>
        
        <view class="overlay-buttons">
          <button class="game-button" bindtap="startGame">
            {{gameState === 'ready' ? '开始游戏' : '重新开始'}}
          </button>
          
          <button class="game-button secondary" bindtap="backToMenu" wx:if="{{gameState !== 'ready'}}">
            返回菜单
          </button>
        </view>
      </view>
    </view>
    
    <view class="game-controls" wx:if="{{gameState === 'playing'}}">
      <button class="control-button" bindtap="togglePause">{{isPaused ? '继续' : '暂停'}}</button>
    </view>
  </view>
</view>
